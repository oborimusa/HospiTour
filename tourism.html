<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tourism Services | HospiTour</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <style>
        :root {
            --hospitour-primary: #1a5276;
            --hospitour-secondary: #3498db;
            --hospitour-accent: #e67e22;
            --hospitour-light: #f8f9fa;
            --hospitour-dark: #2c3e50;
            --hospitour-success: #27ae60;
            --hospitour-warning: #f39c12;
            --hospitour-danger: #e74c3c;
            --hospitour-gray: #95a5a6;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background-color: #f5f7fa;
            color: var(--hospitour-dark);
            margin: 0;
            padding: 0;
        }

        .sidebar {
            width: 260px;
            background: linear-gradient(180deg, var(--hospitour-primary) 0%, #154360 100%);
            height: 100vh;
            position: fixed;
            padding-top: 20px;
            box-shadow: 3px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 100;
            transition: all 0.3s ease;
        }

        .sidebar-brand {
            padding: 0 25px 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }

        .sidebar-brand h3 {
            color: white;
            font-weight: 700;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar-brand h3 i {
            color: var(--hospitour-accent);
        }

        .sidebar-brand p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
            margin: 5px 0 0 0;
        }

        .sidebar a {
            color: rgba(255, 255, 255, 0.85);
            padding: 12px 25px;
            display: flex;
            align-items: center;
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
            margin-bottom: 5px;
            position: relative;
            font-weight: 500;
        }

        .sidebar a i {
            margin-right: 12px;
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }

        .sidebar a:hover,
        .sidebar a.active {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-left: 4px solid var(--hospitour-accent);
        }

        .sidebar a.active::after {
            content: "";
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            border-right: 6px solid #f5f7fa;
        }

        .notification-badge {
            background: var(--hospitour-accent);
            color: white;
            border-radius: 10px;
            padding: 2px 8px;
            font-size: 0.7rem;
            margin-left: auto;
        }

        .main-content {
            margin-left: 260px;
            padding: 30px;
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--hospitour-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }

        .plan-badge {
            background: var(--hospitour-accent);
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-block;
            margin-top: 5px;
        }

        .card-metric {
            border-radius: 12px;
            border: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            overflow: hidden;
            position: relative;
            background: white;
            height: 100%;
            border-top: 4px solid var(--hospitour-primary);
        }

        .card-metric:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .metric-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            background: rgba(26, 82, 118, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--hospitour-primary);
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .progress-bar-custom {
            height: 8px;
            border-radius: 4px;
            background: #e9ecef;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-bar-custom .progress {
            height: 100%;
            background: var(--hospitour-primary);
            border-radius: 4px;
        }

        .btn-hospitour {
            background: var(--hospitour-primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-hospitour:hover {
            background: #154360;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(26, 82, 118, 0.3);
        }

        .btn-hospitour-secondary {
            background: var(--hospitour-secondary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-hospitour-secondary:hover {
            background: #2980b9;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(52, 152, 219, 0.3);
        }

        .btn-hospitour-outline {
            background: transparent;
            color: var(--hospitour-primary);
            border: 1px solid var(--hospitour-primary);
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-hospitour-outline:hover {
            background: var(--hospitour-primary);
            color: white;
        }

        .tour-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            margin-bottom: 20px;
            border-left: 4px solid var(--hospitour-secondary);
            height: 100%;
        }

        .tour-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .tour-card.featured {
            border-left: 4px solid var(--hospitour-accent);
            background: linear-gradient(135deg, #ffffff 0%, rgba(230, 126, 34, 0.05) 100%);
        }

        .tour-type-badge {
            background: var(--hospitour-secondary);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .tour-price {
            color: var(--hospitour-success);
            font-weight: 600;
            font-size: 1.2rem;
        }

        .tour-meta {
            display: flex;
            align-items: center;
            margin-top: 10px;
            font-size: 0.85rem;
            color: var(--hospitour-gray);
        }

        .tour-meta i {
            margin-right: 5px;
        }

        .activity-item {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            background: white;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }

        .activity-item:hover {
            background: rgba(52, 152, 219, 0.05);
            border-left: 4px solid var(--hospitour-secondary);
        }

        .sidebar-footer {
            position: absolute;
            bottom: 20px;
            width: 100%;
            padding: 0 25px;
        }

        .text-hospitour {
            color: var(--hospitour-primary);
        }

        .text-hospitour-secondary {
            color: var(--hospitour-secondary);
        }

        .bg-hospitour-light {
            background-color: rgba(26, 82, 118, 0.05);
        }

        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
            border-top: 4px solid var(--hospitour-primary);
        }

        .demo-controls {
            background: rgba(52, 152, 219, 0.1);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0 30px;
            border-left: 4px solid var(--hospitour-secondary);
        }

        .quick-access-card {
            border-radius: 12px;
            border: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            height: 100%;
            background: white;
            padding: 20px;
            text-decoration: none;
            color: inherit;
            display: block;
            cursor: pointer;
            border-left: 4px solid transparent;
        }

        .quick-access-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-left: 4px solid var(--hospitour-accent);
            text-decoration: none;
            color: inherit;
        }

        .filter-group {
            margin-bottom: 20px;
        }

        .filter-group label {
            font-weight: 600;
            color: var(--hospitour-dark);
            margin-bottom: 8px;
        }

        @media (max-width: 992px) {
            .sidebar {
                width: 80px;
                overflow: hidden;
            }

            .sidebar .nav-text,
            .sidebar-brand p,
            .sidebar-brand h3 span {
                display: none;
            }

            .sidebar a i {
                margin-right: 0;
                font-size: 1.4rem;
            }

            .main-content {
                margin-left: 80px;
            }

            .notification-badge {
                position: absolute;
                top: 10px;
                right: 10px;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }

            .sidebar a {
                display: inline-block;
                width: auto;
                margin: 5px;
                border-left: none;
                border-bottom: 3px solid transparent;
            }

            .sidebar a:hover,
            .sidebar a.active {
                border-left: none;
                border-bottom: 3px solid var(--hospitour-accent);
            }

            .main-content {
                margin-left: 0;
            }

            .sidebar-footer {
                position: relative;
                bottom: auto;
                margin-top: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-brand">
            <h3><i class="bi bi-building"></i> <span>HospiTour</span></h3>
            <p>Tourism Services Management</p>
        </div>

        <a href="dashboard.html">
            <i class="bi bi-speedometer2"></i>
            <span class="nav-text">Dashboard</span>
        </a>
        <a href="rooms.html">
            <i class="bi bi-house-door"></i>
            <span class="nav-text">Accommodation</span>
        </a>
        <a href="restaurant.html">
            <i class="bi bi-cup-hot"></i>
            <span class="nav-text">Restaurant & F&B</span>
        </a>
        <a href="tourism.html" class="active">
            <i class="bi bi-geo-alt"></i>
            <span class="nav-text">Tourism Services</span>
            <span class="notification-badge">5</span>
        </a>
        <a href="events.html">
            <i class="bi bi-calendar-event"></i>
            <span class="nav-text">Events & Planning</span>
        </a>
        <a href="staff.html">
            <i class="bi bi-people"></i>
            <span class="nav-text">Staff Management</span>
        </a>
        <a href="reports.html">
            <i class="bi bi-graph-up"></i>
            <span class="nav-text">Reports & Analytics</span>
        </a>
        <a href="settings.html">
            <i class="bi bi-gear"></i>
            <span class="nav-text">Settings & Billing</span>
        </a>

        <div class="sidebar-footer">
            <hr class="text-white-50" />
            <a href="#" id="logoutBtn" class="d-flex align-items-center">
                <i class="bi bi-box-arrow-right"></i>
                <span class="nav-text">Log Out</span>
            </a>
        </div>
    </div>

    <div class="main-content">
        <div class="dashboard-header">
            <div>
                <h1 class="mb-2 text-hospitour">Tourism Services Management</h1>
                <p class="text-muted mb-0" id="planLevel">Loading Plan Level...</p>
            </div>

            <div class="user-info">
                <div class="user-avatar">
                    <i class="bi bi-person-circle"></i>
                </div>
                <div>
                    <p class="mb-0 fw-bold" id="userName">Loading...</p>
                    <p class="mb-0 small text-muted" id="userEmail">Loading...</p>
                </div>
            </div>
        </div>

        <!-- Demo Controls -->
        <div class="demo-controls">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <small class="text-muted">Demo Controls: Test different plan levels to see feature access</small>
                </div>
                <div class="col-md-4 text-end">
                    <button class="btn btn-hospitour-secondary btn-sm me-1" onclick="upgradePlan('pro')">Pro</button>
                    <button class="btn btn-hospitour btn-sm me-1" onclick="upgradePlan('enterprise')">Enterprise</button>
                    <button class="btn btn-hospitour-outline btn-sm" onclick="upgradePlan('free')">Free</button>
                </div>
            </div>
        </div>

        <!-- Tourism Metrics -->
        <div class="row g-4 mb-5">
            <div class="col-lg-3 col-md-6">
                <div class="card p-4 card-metric">
                    <div class="metric-icon">
                        <i class="bi bi-calendar-check"></i>
                    </div>
                    <div class="d-flex justify-content-between align-items-start mb-2">
                        <div class="small text-muted">Active Tours</div>
                    </div>
                    <h2 class="fw-bold text-hospitour mb-2" id="metricTours">--</h2>
                    <div class="progress-bar-custom mb-2">
                        <div class="progress" style="width: 65%"></div>
                    </div>
                    <p class="small mb-0 text-success">
                        <i class="bi bi-arrow-up"></i> 8.7% from last week
                    </p>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="card p-4 card-metric">
                    <div class="metric-icon">
                        <i class="bi bi-person-walking"></i>
                    </div>
                    <div class="d-flex justify-content-between align-items-start mb-2">
                        <div class="small text-muted">Activity Bookings</div>
                    </div>
                    <h2 class="fw-bold text-hospitour mb-2" id="metricActivities">--</h2>
                    <p class="small mb-0 text-warning">
                        <i class="bi bi-clock"></i> 12 pending confirmations
                    </p>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="card p-4 card-metric">
                    <div class="metric-icon">
                        <i class="bi bi-currency-dollar"></i>
                    </div>
                    <div class="d-flex justify-content-between align-items-start mb-2">
                        <div class="small text-muted">Tour Revenue</div>
                    </div>
                    <h2 class="fw-bold text-hospitour mb-2" id="metricTourRevenue">$----</h2>
                    <p class="small mb-0 text-success" id="tourRevenueHint">
                        <i class="bi bi-graph-up"></i> 12.3% from last month
                    </p>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="card p-4 card-metric">
                    <div class="metric-icon">
                        <i class="bi bi-star"></i>
                    </div>
                    <div class="d-flex justify-content-between align-items-start mb-2">
                        <div class="small text-muted">Customer Rating</div>
                    </div>
                    <h2 class="fw-bold text-hospitour mb-2">4.8/5</h2>
                    <div class="progress-bar-custom mb-2">
                        <div class="progress" style="width: 96%"></div>
                    </div>
                    <p class="small mb-0 text-success">
                        <i class="bi bi-arrow-up"></i> 0.2 from last month
                    </p>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="row g-4 mb-5">
            <div class="col-md-4">
                <div class="quick-access-card" onclick="handleQuickAction('Create New Tour')">
                    <div class="d-flex align-items-center mb-3">
                        <div class="user-avatar me-3">
                            <i class="bi bi-plus-lg"></i>
                        </div>
                        <h5 class="text-hospitour mb-0">Create New Tour</h5>
                    </div>
                    <p class="small text-muted mb-0">
                        Design and publish a new tour package.
                    </p>
                </div>
            </div>

            <div class="col-md-4">
                <div class="quick-access-card" onclick="handleQuickAction('Manage Activities')">
                    <div class="d-flex align-items-center mb-3">
                        <div class="user-avatar me-3">
                            <i class="bi bi-plus-lg"></i>
                        </div>
                        <h5 class="text-hospitour mb-0">Manage Activities</h5>
                    </div>
                    <p class="small text-muted mb-0">
                        Add or update tourism activities and experiences.
                    </p>
                </div>
            </div>

            <div class="col-md-4">
                <div class="quick-access-card" onclick="handleQuickAction('Tour Bookings')">
                    <div class="d-flex align-items-center mb-3">
                        <div class="user-avatar me-3">
                            <i class="bi bi-plus-lg"></i>
                        </div>
                        <h5 class="text-hospitour mb-0">Tour Bookings</h5>
                    </div>
                    <p class="small text-muted mb-0">
                        View and manage all tour reservations.
                    </p>
                </div>
            </div>
        </div>

        <div class="row g-4">
            <div class="col-lg-8">
                <!-- Tour Filters -->
                <div class="card p-4 mb-4">
                    <h4 class="text-hospitour mb-3">Filter Tours</h4>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="filter-group">
                                <label class="form-label">Tour Category</label>
                                <select class="form-select" id="tourCategory">
                                    <option value="">All Categories</option>
                                    <option value="adventure">Adventure</option>
                                    <option value="cultural">Cultural</option>
                                    <option value="wildlife">Wildlife</option>
                                    <option value="beach">Beach & Coastal</option>
                                    <option value="city">City Tours</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="filter-group">
                                <label class="form-label">Duration</label>
                                <select class="form-select" id="tourDuration">
                                    <option value="">Any Duration</option>
                                    <option value="half-day">Half Day</option>
                                    <option value="full-day">Full Day</option>
                                    <option value="multi-day">Multi-Day</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="filter-group">
                                <label class="form-label">Status</label>
                                <select class="form-select" id="tourStatus">
                                    <option value="">All Status</option>
                                    <option value="active">Active</option>
                                    <option value="draft">Draft</option>
                                    <option value="suspended">Suspended</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mt-3">
                        <button class="btn btn-hospitour-secondary" id="applyFiltersBtn">
                            <i class="bi bi-funnel"></i> Apply Filters
                        </button>
                        <div class="text-muted small">
                            <span id="filteredCount">8</span> tours match your criteria
                        </div>
                    </div>
                </div>

                <!-- Active Tours -->
                <h3 class="text-hospitour mb-3">Active Tours</h3>
                <div class="row g-4 mb-5" id="toursContainer">
                    <!-- Tours will be loaded dynamically -->
                </div>
            </div>

            <div class="col-lg-4">
                <!-- Upcoming Tours -->
                <div class="chart-container">
                    <h4 class="text-hospitour mb-4">Upcoming Tours</h4>
                    <div class="activity-item">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1">Morning Safari</h6>
                            <small class="text-muted">Tomorrow, 6:00 AM</small>
                        </div>
                        <p class="mb-1 small">12 guests confirmed â€¢ 2 guides assigned</p>
                        <div class="tour-meta">
                            <i class="bi bi-people"></i> 12/15 capacity â€¢ 
                            <i class="bi bi-clock"></i> 4 hours
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1">Cultural Village Tour</h6>
                            <small class="text-muted">This Saturday, 2:00 PM</small>
                        </div>
                        <p class="mb-1 small">8 guests â€¢ Traditional dinner included</p>
                        <div class="tour-meta">
                            <i class="bi bi-people"></i> 8/12 capacity â€¢ 
                            <i class="bi bi-clock"></i> 6 hours
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1">Wine Tasting Event</h6>
                            <small class="text-muted">Next Monday, 4:00 PM</small>
                        </div>
                        <p class="mb-1 small">Local vineyard tour and tasting session</p>
                        <div class="tour-meta">
                            <i class="bi bi-people"></i> 15/20 capacity â€¢ 
                            <i class="bi bi-clock"></i> 3 hours
                        </div>
                    </div>
                </div>

                <!-- Performance Chart -->
                <div class="chart-container mt-4">
                    <h4 class="text-hospitour mb-4">Tour Performance</h4>
                    <div class="d-flex justify-content-center align-items-center bg-hospitour-light" style="height: 200px; border-radius: 8px;">
                        <div class="text-center">
                            <i class="bi bi-graph-up" style="font-size: 2rem; color: var(--hospitour-gray);"></i>
                            <p class="text-muted mt-2">Tour performance analytics</p>
                            <button class="btn btn-hospitour-outline btn-sm mt-1" onclick="upgradePlan('pro')">View Details</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="mt-5 pt-4">
            <div class="row">
                <div class="col-md-6">
                    <h5 class="text-hospitour mb-3">Recent Activity</h5>
                    <div class="activity-item">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1">New tour booking received</h6>
                            <small class="text-muted">2 hours ago</small>
                        </div>
                        <p class="mb-1 small">Safari Tour booked for 4 guests</p>
                    </div>
                    <div class="activity-item">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1">Tour completed</h6>
                            <small class="text-muted">5 hours ago</small>
                        </div>
                        <p class="mb-1 small">City walking tour received 5-star rating</p>
                    </div>
                    <div class="activity-item">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1">New activity added</h6>
                            <small class="text-muted">1 day ago</small>
                        </div>
                        <p class="mb-1 small">Sunset cruise now available for booking</p>
                    </div>
                </div>

                <div class="col-md-6">
                    <h5 class="text-hospitour mb-3">Tour Guide Schedule</h5>
                    <div class="activity-item">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1">James Wilson</h6>
                            <small class="text-muted">Tomorrow</small>
                        </div>
                        <p class="mb-1 small">Morning Safari (6:00 AM - 10:00 AM)</p>
                    </div>
                    <div class="activity-item">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1">Sarah Johnson</h6>
                            <small class="text-muted">Tomorrow</small>
                        </div>
                        <p class="mb-1 small">Cultural Village Tour (2:00 PM - 8:00 PM)</p>
                    </div>
                    <div class="activity-item">
                        <div class="d-flex w-100 justify-content-between">
                            <h6 class="mb-1">Michael Brown</h6>
                            <small class="text-muted">Next Monday</small>
                        </div>
                        <p class="mb-1 small">Wine Tasting Event (4:00 PM - 7:00 PM)</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Tour Modal -->
    <div class="modal fade" id="createTourModal" tabindex="-1" aria-labelledby="createTourModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="createTourModalLabel">Create New Tour</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="createTourForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Tour Name</label>
                                    <input type="text" class="form-control" id="tourName" placeholder="Enter tour name" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Tour Category</label>
                                    <select class="form-select" id="tourCategoryModal" required>
                                        <option value="">Select Category</option>
                                        <option value="adventure">Adventure</option>
                                        <option value="cultural">Cultural</option>
                                        <option value="wildlife">Wildlife</option>
                                        <option value="beach">Beach & Coastal</option>
                                        <option value="city">City Tours</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Duration (hours)</label>
                                    <input type="number" class="form-control" id="tourDuration" placeholder="e.g., 4" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Price per person ($)</label>
                                    <input type="number" class="form-control" id="tourPrice" placeholder="e.g., 75" required>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" id="tourDescription" rows="3" placeholder="Describe the tour experience"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Inclusions</label>
                            <textarea class="form-control" id="tourInclusions" rows="2" placeholder="What's included in the tour"></textarea>
                        </div>
                        <button type="submit" class="btn btn-hospitour d-block w-100">Create Tour</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Initialize user data on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeUserData();
            loadTours();
            setupEventListeners();
        });

        function initializeUserData() {
            let userData = localStorage.getItem('hospitour_business_user');
            
            if (!userData) {
                // Create default user data
                userData = {
                    name: 'Alex Johnson',
                    email: 'alex.johnson@hospitour.com',
                    plan: 'free',
                    lastLogin: new Date().toISOString(),
                    businessName: 'Safari Adventures & Resort'
                };
                localStorage.setItem('hospitour_business_user', JSON.stringify(userData));
            } else {
                userData = JSON.parse(userData);
            }
            
            updateMetrics(userData.plan, userData);
            return userData;
        }

        function setupEventListeners() {
            // Logout button
            document.getElementById('logoutBtn').addEventListener('click', function(e) {
                e.preventDefault();
                if (confirm('Are you sure you want to log out?')) {
                    localStorage.removeItem('hospitour_business_user');
                    alert('Logged out successfully from HospiTour');
                    window.location.href = 'index.html';
                }
            });

            // Apply filters button
            document.getElementById('applyFiltersBtn').addEventListener('click', filterTours);

            // Create tour form
            document.getElementById('createTourForm').addEventListener('submit', function(e) {
                e.preventDefault();
                createNewTour();
            });
        }

        // Sample tour data
        const tours = [
            {
                id: 1,
                name: "Morning Wildlife Safari",
                category: "wildlife",
                duration: "4 hours",
                price: "$85",
                capacity: "15 guests",
                status: "active",
                featured: true,
                description: "Experience the thrill of spotting wildlife in their natural habitat during the early morning hours.",
                inclusions: "Guide, transportation, refreshments"
            },
            {
                id: 2,
                name: "Cultural Village Experience",
                category: "cultural",
                duration: "6 hours",
                price: "$65",
                capacity: "12 guests",
                status: "active",
                featured: false,
                description: "Immerse yourself in local traditions, crafts, and culinary delights.",
                inclusions: "Traditional meal, craft demonstration, guide"
            },
            {
                id: 3,
                name: "Sunset Beach Cruise",
                category: "beach",
                duration: "3 hours",
                price: "$75",
                capacity: "20 guests",
                status: "active",
                featured: true,
                description: "Relax and enjoy breathtaking coastal views during the golden hour.",
                inclusions: "Boat ride, snacks, beverages"
            },
            {
                id: 4,
                name: "City Heritage Walk",
                category: "city",
                duration: "4 hours",
                price: "$45",
                capacity: "25 guests",
                status: "active",
                featured: false,
                description: "Discover the rich history and architecture of our vibrant city.",
                inclusions: "Expert guide, entrance fees, map"
            }
        ];

        function loadTours() {
            const container = document.getElementById('toursContainer');
            container.innerHTML = '';

            tours.forEach(tour => {
                const tourCard = document.createElement('div');
                tourCard.className = 'col-md-6';
                tourCard.innerHTML = `
                    <div class="tour-card ${tour.featured ? 'featured' : ''}">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <h5 class="text-hospitour mb-1">${tour.name}</h5>
                            <span class="tour-type-badge">${tour.category}</span>
                        </div>
                        <p class="text-muted small mb-3">${tour.description}</p>
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <div class="tour-price">${tour.price}</div>
                            <span class="badge bg-success">${tour.status}</span>
                        </div>
                        <div class="tour-meta">
                            <i class="bi bi-clock"></i> ${tour.duration} â€¢ 
                            <i class="bi bi-people"></i> ${tour.capacity}
                        </div>
                        <div class="d-flex gap-2 mt-3">
                            <button class="btn btn-sm btn-hospitour" data-tour-id="${tour.id}">Manage</button>
                            <button class="btn btn-sm btn-hospitour-outline" data-tour-id="${tour.id}">View Bookings</button>
                        </div>
                    </div>
                `;
                container.appendChild(tourCard);
            });

            // Add event listeners to tour buttons
            document.querySelectorAll('.tour-card .btn').forEach(button => {
                button.addEventListener('click', function() {
                    const tourId = this.getAttribute('data-tour-id');
                    if (this.textContent.includes('Manage')) {
                        manageTour(tourId);
                    } else {
                        viewTourBookings(tourId);
                    }
                });
            });
        }

        function filterTours() {
            const category = document.getElementById('tourCategory').value;
            const duration = document.getElementById('tourDuration').value;
            const status = document.getElementById('tourStatus').value;

            let filteredCount = 0;

            // In a real implementation, this would filter the tour list
            // For now, we'll just update the count
            if (category || duration || status) {
                filteredCount = Math.floor(Math.random() * 6) + 2; // Random count for demo
            } else {
                filteredCount = tours.length;
            }

            document.getElementById('filteredCount').textContent = filteredCount;
            
            // Show notification
            showNotification(`Found ${filteredCount} tours matching your criteria`);
        }

        function manageTour(tourId) {
            const tour = tours.find(t => t.id == tourId);
            if (tour) {
                alert(`Managing tour: ${tour.name}\n\nOpening tour management interface...`);
                // In a real implementation, this would open the tour management page
            }
        }

        function viewTourBookings(tourId) {
            const tour = tours.find(t => t.id == tourId);
            if (tour) {
                alert(`Viewing bookings for: ${tour.name}\n\nOpening booking management interface...`);
                // In a real implementation, this would open the booking management page
            }
        }

        function createNewTour() {
            const tourName = document.getElementById('tourName').value;
            const tourCategory = document.getElementById('tourCategoryModal').value;
            const tourDuration = document.getElementById('tourDuration').value;
            const tourPrice = document.getElementById('tourPrice').value;
            const tourDescription = document.getElementById('tourDescription').value;
            const tourInclusions = document.getElementById('tourInclusions').value;
            
            // In a real app, this would save to a backend
            alert(`New tour "${tourName}" created successfully!`);
            
            // Close modal and reset form
            const modal = bootstrap.Modal.getInstance(document.getElementById('createTourModal'));
            modal.hide();
            document.getElementById('createTourForm').reset();
            
            // Reload tours to show the new one
            loadTours();
        }

        function updateMetrics(plan, userData) {
            const planLevelEl = document.getElementById("planLevel");
            const userNameEl = document.getElementById("userName");
            const userEmailEl = document.getElementById("userEmail");

            planLevelEl.innerHTML = `Current Plan: <span class="plan-badge">${plan.toUpperCase()}</span> | Subscription Active`;

            if (userData) {
                userNameEl.textContent = userData.name || "Business User";
                userEmailEl.textContent = userData.email || "admin@hospitour.com";
            }

            if (plan === "free") {
                document.getElementById("metricTours").textContent = "8";
                document.querySelector(".progress-bar-custom .progress").style.width = "32%";
                document.getElementById("metricActivities").textContent = "45";
                document.getElementById("metricTourRevenue").textContent = "$2,150";
            } else if (plan === "pro") {
                document.getElementById("metricTours").textContent = "24";
                document.querySelector(".progress-bar-custom .progress").style.width = "65%";
                document.getElementById("metricActivities").textContent = "156";
                document.getElementById("metricTourRevenue").textContent = "$8,420";
            } else if (plan === "enterprise") {
                document.getElementById("metricTours").textContent = "42";
                document.querySelector(".progress-bar-custom .progress").style.width = "84%";
                document.getElementById("metricActivities").textContent = "289";
                document.getElementById("metricTourRevenue").textContent = "$18,750";
            }
        }

        function upgradePlan(newPlan) {
            const userData = JSON.parse(localStorage.getItem('hospitour_business_user'));
            userData.plan = newPlan;
            localStorage.setItem('hospitour_business_user', JSON.stringify(userData));
            updateMetrics(newPlan, userData);
            
            const planNames = {
                'free': 'Free',
                'pro': 'Pro',
                'enterprise': 'Enterprise'
            };
            
            alert(`ðŸŽ‰ Successfully upgraded to ${planNames[newPlan]} Plan!\n\nYou now have access to advanced HospiTour features.`);
        }

        function handleQuickAction(action) {
            const userData = JSON.parse(localStorage.getItem('hospitour_business_user'));
            
            if (action === 'Create New Tour') {
                const modal = new bootstrap.Modal(document.getElementById('createTourModal'));
                modal.show();
                return true;
            }
            
            // Check if feature requires upgrade
            const proFeatures = ['Tour Analytics', 'Advanced Reporting'];
            if (proFeatures.includes(action) && userData.plan === 'free') {
                alert(`ðŸš€ ${action} requires a Pro plan upgrade!\n\nUpgrade to access advanced HospiTour features.`);
                return false;
            }
            
            const messages = {
                'Create New Tour': 'Opening tour creation form...',
                'Manage Activities': 'Opening activity management...',
                'Tour Bookings': 'Opening booking management...'
            };
            
            alert(messages[action] || `Opening ${action}...`);
            return true;
        }

        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'alert alert-success position-fixed top-0 end-0 m-3';
            notification.style.zIndex = '1050';
            notification.innerHTML = `
                <i class="bi bi-check-circle me-2"></i> ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            document.body.appendChild(notification);
            
            // Auto remove after 3 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }
    </script>
</body>
</html>